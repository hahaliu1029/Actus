# Actus 运行时配置模板
# 复制此文件为 config.yaml 并填入你的实际配置
# cp config.yaml.example config.yaml

llm_config:
  base_url: https://api.deepseek.com/    # LLM API 地址
  api_key: ''                             # 你的 LLM API Key
  model_name: deepseek-reasoner           # 模型名称
  temperature: 0.7
  max_tokens: 8192

agent_config:
  max_iterations: 100                     # Agent 最大迭代次数
  max_retries: 3                          # 工具调用最大重试次数
  max_search_results: 10                  # 搜索结果数量
  skill_selection:
    base_threshold: 3
    short_message_max_chars: 24
    llm_trigger_token_count: 4
    continuation_llm_enabled: true
    continuation_llm_timeout_seconds: 3.0
    continuation_llm_cache_size: 128
    ask_user_min_attempt_rounds_per_step: 3
    step_skill_lock_enabled: true
    step_skill_reselect_unknown_tool_threshold: 3
    step_skill_reselect_max_per_step: 1
    available_tool_summary_token_budget: 500
    unknown_tool_candidate_limit: 10
    continuation_phrases:
      - "继续"
      - "请继续"
      - "继续一下"
      - "继续吧"
      - "接着"
      - "下一步"
      - "好的"
      - "好"
      - "行"
      - "嗯"
      - "收到"
      - "ok"
      - "okay"
      - "go on"
      - "next"
      - "please continue"
      - "proceed"
    # continuation_patterns 使用 Python re 语法
    # 注意 YAML 中反斜杠需要转义，例如 "\\s"
    continuation_patterns:
      - "^(请)?继续(一下|吧|下去)?$"
      - "^(好的?[,，\\s]*)?(继续|接着)$"
      - "^(ok|okay)([,\\s]+(go on|continue))?$"

mcp_config:
  mcpServers:
    # 示例：高德地图 MCP 服务器
    # amap-maps-streamableHTTP:
    #   transport: streamable_http
    #   enabled: true
    #   description: null
    #   env: null
    #   command: null
    #   args: null
    #   url: https://mcp.amap.com/mcp?key=YOUR_AMAP_KEY
    #   headers: null
    #
    # 示例：Jina MCP 服务器
    # jina-mcp-server:
    #   transport: streamable_http
    #   enabled: true
    #   description: null
    #   env: null
    #   command: null
    #   args: null
    #   url: https://mcp.jina.ai/v1
    #   headers:
    #     Authorization: Bearer YOUR_JINA_API_KEY
    #   server_name: jina-mcp-server

a2a_config:
  a2a_servers: []

skill_risk_policy:
  mode: off

# Skill 生态说明（v2）：
# - Skill 权威源位于 API 容器中的 /app/data/skills（可通过 SKILLS_ROOT_DIR 调整）
# - 目录型 Skill 会在会话启动时预同步到 sandbox（默认 /home/ubuntu/workspace/.skills，可通过 SKILL_SANDBOX_BUNDLE_ROOT 调整）
# - 用户偏好仍存储在 user_tool_preferences（tool_type=skill）
# - 请在前端「设置 -> Skill 生态」中安装和管理 Skill
